# 🌐 다른 PC에서 접속하기

## 📋 현재 서버 정보

**이 PC의 IP 주소**: `172.31.188.45`
**포트**: `8501`

---

## 🖥️ 같은 네트워크에서 접속하기

### 방법 1: 직접 IP 주소 사용

다른 PC의 웹 브라우저에서 다음 주소로 접속:

```
http://172.31.188.45:8501
```

### 방법 2: Windows 호스트명 사용 (WSL)

```
http://[Windows컴퓨터이름]:8501
```

Windows 컴퓨터 이름 확인:
```powershell
hostname
```

---

## 🚀 서버 실행 방법

### 자동 실행 (권장)
```bash
cd ~/AI-CHAT
bash start_ai_chat.sh
```

### 수동 실행
```bash
cd ~/AI-CHAT
source .venv/bin/activate
streamlit run web_interface.py --server.port 8501 --server.headless true
```

### 서버 상태 확인
```bash
# 포트 확인
ss -tlnp | grep 8501

# 프로세스 확인
ps aux | grep streamlit
```

---

## 🔧 네트워크 URL 확인

서버를 실행하면 다음과 같이 표시됩니다:

```
You can now view your Streamlit app in your browser.

  Local URL: http://localhost:8501
  Network URL: http://172.31.188.45:8501
```

**Network URL**을 다른 PC에서 사용하세요!

---

## 🌐 현재 PC IP 주소 확인

### WSL에서 확인
```bash
# 방법 1: hostname 명령어
hostname -I

# 방법 2: ip 명령어
ip addr show eth0 | grep "inet " | awk '{print $2}' | cut -d/ -f1

# 방법 3: 간단하게
hostname -I | awk '{print $1}'
```

### Windows에서 확인
```powershell
ipconfig
```

**이더넷 어댑터** 또는 **WiFi** 섹션에서 **IPv4 주소** 확인

---

## 🔒 방화벽 설정 (필요시)

### Windows 방화벽 확인

다른 PC에서 접속이 안 되면:

**방법 1: PowerShell (관리자 권한)**
```powershell
# 8501 포트 허용
New-NetFirewallRule -DisplayName "Streamlit AI-CHAT" -Direction Inbound -LocalPort 8501 -Protocol TCP -Action Allow
```

**방법 2: GUI 설정**
1. Windows 검색: "방화벽"
2. "Windows Defender 방화벽"
3. "고급 설정"
4. "인바운드 규칙" → "새 규칙"
5. "포트" → "TCP" → "8501"
6. "연결 허용"

### WSL 방화벽 (보통 불필요)
WSL은 Windows 방화벽을 사용하므로 별도 설정 불필요

---

## 📱 모바일에서 접속

같은 WiFi에 연결된 스마트폰에서:

```
http://172.31.188.45:8501
```

브라우저에 입력하면 접속 가능!

---

## ⚡ 포트 변경 (선택사항)

다른 포트를 사용하고 싶다면:

### .env 파일 수정
```bash
nano .env
```

```ini
STREAMLIT_SERVER_PORT=8080
```

### 직접 실행 시 지정
```bash
streamlit run web_interface.py --server.port 8080
```

---

## 🧪 접속 테스트

### 1. 로컬 접속 테스트
```bash
curl http://localhost:8501
```

### 2. 네트워크 접속 테스트
다른 PC에서:
```powershell
# PowerShell
Test-NetConnection -ComputerName 172.31.188.45 -Port 8501

# 또는 curl (Git Bash)
curl http://172.31.188.45:8501
```

### 3. 웹 브라우저에서 테스트
브라우저 주소창에:
```
http://172.31.188.45:8501
```

페이지가 로드되면 성공!

---

## 🚨 문제 해결

### 문제 1: "사이트에 연결할 수 없음"

**확인 사항**:
1. ✅ 서버가 실행 중인지 확인
   ```bash
   ps aux | grep streamlit
   ```

2. ✅ 같은 네트워크에 있는지 확인
   - WiFi나 LAN 케이블로 같은 공유기에 연결

3. ✅ IP 주소가 맞는지 확인
   ```bash
   hostname -I
   ```

4. ✅ 방화벽 확인 (위 섹션 참고)

### 문제 2: 서버는 실행되는데 접속 안 됨

**해결**:
```bash
# 서버 재시작
pkill -f streamlit

# 명시적으로 0.0.0.0으로 바인딩
streamlit run web_interface.py --server.port 8501 --server.address 0.0.0.0
```

### 문제 3: IP 주소가 자주 바뀜

**고정 IP 설정 (Windows)**:
1. "설정" → "네트워크 및 인터넷"
2. 연결된 네트워크 선택
3. "IP 설정" → "편집"
4. "수동" 선택 → IP 주소 입력

**또는 공유기에서 DHCP 예약**:
- 공유기 관리 페이지 접속
- DHCP 설정에서 MAC 주소에 고정 IP 할당

---

## 💡 유용한 팁

### Tip 1: QR 코드로 공유

모바일 접속을 위해:
1. https://www.qr-code-generator.com/ 접속
2. `http://172.31.188.45:8501` 입력
3. QR 코드 생성 → 스캔

### Tip 2: 자동 시작 스크립트

`start_ai_chat.sh` 파일에 이미 포함:
```bash
#!/bin/bash
cd ~/AI-CHAT
source .venv/bin/activate
streamlit run web_interface.py --server.port 8501 --server.headless true
```

### Tip 3: 백그라운드 실행

```bash
# 백그라운드로 실행
nohup streamlit run web_interface.py --server.port 8501 --server.headless true > /dev/null 2>&1 &

# 프로세스 확인
ps aux | grep streamlit

# 종료
pkill -f streamlit
```

### Tip 4: 터미널 닫아도 계속 실행

```bash
# screen 설치
sudo apt install screen

# screen 세션 시작
screen -S ai-chat

# 서버 실행
streamlit run web_interface.py --server.port 8501

# Ctrl+A, D로 세션 분리

# 다시 연결
screen -r ai-chat
```

---

## 📊 현재 접속 현황 확인

```bash
# 연결된 클라이언트 확인
ss -tn | grep :8501

# 또는
lsof -i :8501
```

---

## 🔐 보안 고려사항

### 주의사항
- 현재 설정은 **인증 없음**
- 같은 네트워크의 누구나 접속 가능
- **내부 네트워크 전용** 권장

### 외부 접속 (비권장)
외부에서 접속하려면:
1. 공유기 포트 포워딩 설정
2. HTTPS 설정 (SSL 인증서)
3. 인증 추가 (Streamlit Authentication)

**보안상 외부 공개는 권장하지 않습니다!**

---

## 📞 빠른 참조

| 항목 | 값 |
|------|-----|
| **Local URL** | http://localhost:8501 |
| **Network URL** | http://172.31.188.45:8501 |
| **포트** | 8501 |
| **프로토콜** | HTTP |
| **인증** | 없음 (내부 네트워크 전용) |

---

## ✅ 체크리스트

접속이 안 될 때 순서대로 확인:

- [ ] 서버가 실행 중인가? (`ps aux | grep streamlit`)
- [ ] 포트 8501이 리스닝 중인가? (`ss -tlnp | grep 8501`)
- [ ] IP 주소가 올바른가? (`hostname -I`)
- [ ] 같은 네트워크에 있는가?
- [ ] Windows 방화벽이 허용하는가?
- [ ] 브라우저에서 http://로 시작하는가? (https 아님)

**모두 확인했는데도 안 되면**: [문제해결.md](문제해결.md) 참고

---

**작성일**: 2025-10-15
**IP 주소**: 172.31.188.45 (변경될 수 있음)
**포트**: 8501
**환경**: WSL2 + Ubuntu + Streamlit
